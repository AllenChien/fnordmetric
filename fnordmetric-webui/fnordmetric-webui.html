<!DOCTYPE html>
<html>
  <head>
    <title>FnordMetric WebUI</title>
    <meta content="text/html; charset=utf-8" http-equiv="Content-type">
    <link href="/s/fnordmetric-webui.css" rel="stylesheet" type="text/css">
    <link href="/favicon.ico" rel="icon" type="image/x-icon">
  </head>
  <body>
    <script type="text/javascript" src="/s/fnordmetric.js"></script>
    <script type="text/javascript" src="/s/fnordmetric-webui.js"></script>
    <script type="text/javascript">
      /* intialize web ui */
      FnordMetric.WebUI.singleton = FnordMetric.WebUI();
      FnordMetric.WebUI.singleton.addView("metric_list", FnordMetric.views.MetricList);
      FnordMetric.WebUI.singleton.addView("query_playground", FnordMetric.views.QueryPlayground);

      /* initialize the main menu */
      FnordMetric.WebUI.singleton.addMenuItem("<i class='fa fa-gears'></i> Settings", "settings", "right");
      FnordMetric.WebUI.singleton.addMenuItem("<i class='fa fa-file'></i> New Query", "query_playground", "smallpadding");
      FnordMetric.WebUI.singleton.addMenuItem("<i class='fa fa-area-chart'></i> Metrics", "metric_list");
      FnordMetric.WebUI.singleton.addSearchBar();

      /* open initial url */
      var fragment = window.location.hash;
      if (fragment) {
        FnordMetric.WebUI.singleton.openUrl(fragment.substring(1));
      } else {
        FnordMetric.WebUI.singleton.openUrl("metric_list");
      }
    </script>
  </body>
</html>
